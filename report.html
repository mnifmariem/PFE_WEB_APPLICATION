<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IoT Predictive Maintenance Analysis Platform</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
  <style>
    :root {
      --primary-color: #0d6efd;
      --secondary-color: #6c757d;
      --success-bg: #d4edda;
      --success-text: #155724;
      --error-bg: #f8d7da;
      --error-text: #721c24;
      --sidebar-width: 250px;
    }

    body {
      background-color: #ffffff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      height: 100vh;
      line-height: 1.6;
    }

    #sidebar {
      width: var(--sidebar-width);
      background-color: #f8f9fa;
      padding: 20px;
      height: 100%;
      position: fixed;
      top: 0;
      left: 0;
      overflow-y: auto;
      box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
      transition: transform 0.3s ease;
    }

    #sidebar.collapsed {
      transform: translateX(-100%);
    }

    #sidebar .nav-link {
      color: #333;
      padding: 12px 15px;
      text-decoration: none;
      display: block;
      border-radius: 6px;
      margin-bottom: 8px;
      font-weight: 500;
      transition: all 0.3s ease;
    }

    #sidebar .nav-link:hover, #sidebar .nav-link.active {
      background-color: #e9ecef;
      color: var(--primary-color);
    }

    #sidebar-toggle {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #f8f9fa;
      border: none; /* Removed border */
      border-radius: 6px;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 1.5rem;
      z-index: 1001;
      display: block !important;
      width: 40px;
      height: 40px;
      text-align: center;
      transition: all 0.3s ease;
    }

    #sidebar.collapsed #sidebar-toggle {
      display: none;
    }

    #toggle-container {
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 1000;
      display: none;
    }

    #sidebar.collapsed ~ #content #toggle-container {
      display: block;
    }

    #toggle-container button {
      background-color: #ffffff;
      border: none; /* Removed border */
      color: #333; /* Updated to match icon color */
      border-radius: 6px;
      padding: 5px 10px;
      cursor: pointer;
      font-size: 1.5rem;
      width: 40px;
      height: 40px;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    #content {
      margin-left: var(--sidebar-width);
      padding: 30px;
      flex-grow: 1;
      overflow-y: auto;
      transition: margin-left 0.3s ease;
      position: relative;
    }

    #content.shifted {
      margin-left: 0;
    }

    .report-section {
      background: #ffffff;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
      display: none;
    }

    .report-section h3 {
      color: var(--primary-color);
      margin-bottom: 20px;
      font-size: 1.5rem;
      font-weight: 600;
    }

    .report-content h3:not(:first-child) {
      margin-top: 40px;
    }

    .report-header {
      text-align: center;
      margin-bottom: 20px;
    }

    .report-header h1 {
      margin: 80px 0 70px 0;
    }

    .report-title {
      display: flex;
      align-items: center;
      gap: 10px;
      justify-content: center;
      margin-bottom: 20px;
    }

    .download-report-btn {
      padding: 12px 24px;
      font-size: 1.1rem;
      background-color: var(--secondary-color);
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 20px auto;
    }

    .download-report-btn:hover {
      background-color: #5a6268;
    }

    .generate-report-btn {
      padding: 12px 24px;
      font-size: 1.1rem;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 20px auto;
      background-color: #ffffff;
      color: var(--primary-color);
      border: 1px solid var(--primary-color);
    }

    .generate-report-btn:hover {
      background-color: var(--primary-color);
      color: #fff;
    }

    .report-content {
      display: block;
      margin-top: 20px;
    }

    .summary-section {
      background-color: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
    }

    .summary-section h3 {
      font-size: 1.3rem;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
      font-size: 0.95rem;
    }

    th, td {
      border: 1px solid #dee2e6;
      padding: 10px;
      text-align: left;
    }

    th {
      background-color: #e9ecef;
      font-weight: 600;
    }

    .insights-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .insight-card {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      text-align: center;
      transition: transform 0.2s;
    }

    .insight-card:hover {
      transform: translateY(-3px);
    }

    .insight-card h4 {
      font-size: 1.1rem;
      margin-bottom: 12px;
      color: #333;
    }

    .insight-card p.value {
      font-size: 1.6rem;
      font-weight: bold;
      margin: 5px 0;
    }

    .insight-card p.desc {
      font-size: 0.85rem;
      color: #666;
    }

    h1.text-center {
      margin-top: 70px;
      margin-bottom: 60px;
    }

    h2.text-center {
      margin-top: 40px;
      margin-bottom: 40px;
    }

    @media (max-width: 768px) {
      #sidebar {
        transform: translateX(-100%);
      }
      #content {
        margin-left: 0;
        padding: 20px;
      }
      .report-section {
        padding: 15px;
      }
      .insights-grid {
        grid-template-columns: 1fr;
      }
      .download-report-btn, .generate-report-btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div id="sidebar">
    <button id="sidebar-toggle" onclick="toggleSidebar()">
      <i class="bi bi-list"></i>
    </button>
    <h3 class="text-center mb-4">Menu</h3>
    <a href="index.html" class="nav-link">Data Upload & Processing</a>
    <a href="algorithms.html" class="nav-link">FFT vs Goertzel Analysis</a>
    <a href="energy.html" class="nav-link">Energy Consumption</a>
    <a href="latency.html" class="nav-link">Latency</a>
    <a href="scenarios.html" class="nav-link">Scenario Comparison</a>
    <a href="report.html" class="nav-link active">Comprehensive Report</a>
  </div>
  <div id="content">
    <div id="toggle-container">
      <button id="sidebar-toggle-collapsed" onclick="toggleSidebar()">
        <i class="bi bi-arrow-left"></i>
      </button>
    </div>
    <div class="report-header">
      <h1><i class="bi bi-gear" style="color: #000000;"></i> IoT Predictive Maintenance Analysis Platform</h1>
    </div>
    <div class="report-title">
      <h2 class="mb-4"><i class="bi bi-clipboard-data" style="color: #000000;"></i> Comprehensive Analysis Report</h2>
    </div>
    <button class="btn btn-primary generate-report-btn" onclick="generateReport()">
      <i class="bi bi-arrow-repeat"></i> Generate Complete Report
    </button>
    <div class="report-section" id="reportSection">
      <div id="reportContent" class="report-content">
        <h3>Project Overview</h3>
        <p><strong>Project Title:</strong> Efficient Data Processing for Predictive Maintenance in IoT Systems</p>
        <p><strong>Objective:</strong> Compare two scenarios for IoT predictive maintenance:</p>
        <div style="padding-left: 20px; font-size: 0.95rem;">
          <p>Scenario 1: Raw data transmission from sensor node to edge device</p>
          <p>Scenario 2: Edge processing with Goertzel algorithm on sensor node</p>
        </div>
        <p><strong>Key Benefits of Scenario 2:</strong></p>
        <div style="padding-left: 20px; font-size: 0.95rem;">
          <p>- Reduced energy consumption</p>
          <p>- Lower latency</p>
          <p>- Decreased network bandwidth requirements</p>
          <p>- Maintained accuracy while processing on resource-constrained devices</p>
        </div>

        <div class="summary-section">
          <h3>Summary</h3>
          <p>This report evaluates the efficiency of two IoT predictive maintenance scenarios, focusing on algorithm performance (FFT vs Goertzel), energy consumption, latency, and compression. Scenario 2 (Goertzel) demonstrates superior efficiency, particularly for larger datasets, as outlined in the project overview.</p>
        </div>

        <h3>FFT vs Goertzel Analysis</h3>
        <p>The Fast Fourier Transform (FFT) computes the full frequency spectrum, while the Goertzel algorithm targets specific frequencies, making it more efficient for sparse spectrum analysis in IoT applications.</p>
        <table>
          <thead>
            <tr>
              <th>Algorithm</th>
              <th>Computational Complexity</th>
              <th>Use Case</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>FFT</td>
              <td>O(N log N)</td>
              <td>Broad-spectrum frequency analysis; Applications requiring full frequency spectrum (e.g., audio processing, radar); Suitable for small datasets or systems with ample computational resources</td>
            </tr>
            <tr>
              <td>Goertzel</td>
              <td>O(N)</td>
              <td>Targeted frequency detection (e.g., specific vibration frequencies in machinery); IoT devices with constrained resources (memory, power); Scenarios requiring minimal data transmission</td>
            </tr>
          </tbody>
        </table>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>FFT Complexity</h4>
            <p class="value" style="color: #2563eb;">O(N log N)</p>
            <p class="desc">Suitable for broad spectrum analysis</p>
          </div>
          <div class="insight-card">
            <h4>Goertzel Complexity</h4>
            <p class="value" style="color: #16a34a;">O(N)</p>
            <p class="desc">Efficient for specific frequencies</p>
          </div>
          <div class="insight-card">
            <h4>IoT Suitability</h4>
            <p class="value" style="color: #9333ea;">Goertzel</p>
            <p class="desc">Lower complexity for IoT devices</p>
          </div>
        </div>

        <h3>Energy Consumption Analysis</h3>
        <table>
          <thead>
            <tr>
              <th>Data Size</th>
              <th>Scenario 1 (Raw Data) Energy (mJ)</th>
              <th>Scenario 2 (Goertzel) Energy (mJ)</th>
              <th>Energy Savings (mJ)</th>
              <th>Savings Percentage (%)</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>100</td><td>8.432024</td><td>3.7971663</td><td>4.6348577</td><td>54.9</td></tr>
            <tr><td>250</td><td>19.249107</td><td>5.570224</td><td>13.678883</td><td>71.1</td></tr>
            <tr><td>480</td><td>38.213902</td><td>8.583681</td><td>29.630221</td><td>77.5</td></tr>
            <tr><td>600</td><td>46.186567</td><td>9.261920</td><td>36.924647</td><td>79.9</td></tr>
            <tr><td>1000</td><td>78.265910</td><td>14.412746</td><td>63.853164</td><td>81.6</td></tr>
          </tbody>
        </table>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>Max Energy Savings</h4>
            <p class="value" style="color: #16a34a;">81.6%</p>
            <p class="desc">At 1000 samples</p>
          </div>
          <div class="insight-card">
            <h4>Average Savings</h4>
            <p class="value" style="color: #2563eb;">73.0%</p>
            <p class="desc">Across all data sizes</p>
          </div>
          <div class="insight-card">
            <h4>Max Savings (mJ)</h4>
            <p class="value" style="color: #9333ea;">63.85 mJ</p>
            <p class="desc">At 1000 samples</p>
          </div>
        </div>

        <h3>Latency Analysis</h3>
        <table>
          <thead>
            <tr>
              <th>Data Size</th>
              <th>Scenario 1 (Raw Data) Latency (ms)</th>
              <th>Scenario 2 (Goertzel) Latency (ms)</th>
              <th>Reduction Percentage (%)</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>100</td><td>277.8</td><td>184.21</td><td>33.7</td></tr>
            <tr><td>250</td><td>606.4</td><td>363.51</td><td>40.0</td></tr>
            <tr><td>480</td><td>1126</td><td>659.11</td><td>41.5</td></tr>
            <tr><td>600</td><td>1435</td><td>808.71</td><td>43.6</td></tr>
            <tr><td>1000</td><td>2369</td><td>1360.21</td><td>42.6</td></tr>
          </tbody>
        </table>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>Max Latency Reduction</h4>
            <p class="value" style="color: #16a34a;">43.6%</p>
            <p class="desc">At 600 samples</p>
          </div>
          <div class="insight-card">
            <h4>Average Reduction</h4>
            <p class="value" style="color: #2563eb;">40.3%</p>
            <p class="desc">Across all data sizes</p>
          </div>
          <div class="insight-card">
            <h4>Max Time Saved</h4>
            <p class="value" style="color: #9333ea;">1008.79 ms</p>
            <p class="desc">At 1000 samples</p>
          </div>
        </div>

        <h3>Compression Analysis</h3>
        <table>
          <thead>
            <tr>
              <th>Data Size (samples)</th>
              <th>Scenario 1 (bytes)</th>
              <th>Scenario 2 (bytes)</th>
              <th>Reduction (%)</th>
              <th>Compression Ratio</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>100</td><td>203</td><td>72</td><td>64.53</td><td>2.82</td></tr>
            <tr><td>250</td><td>506</td><td>72</td><td>85.77</td><td>7.03</td></tr>
            <tr><td>480</td><td>971</td><td>72</td><td>92.56</td><td>13.49</td></tr>
            <tr><td>600</td><td>1214</td><td>72</td><td>94.07</td><td>16.86</td></tr>
            <tr><td>1000</td><td>2023</td><td>72</td><td>96.44</td><td>28.10</td></tr>
          </tbody>
        </table>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>Max Compression</h4>
            <p class="value" style="color: #2563eb;">96.4%</p>
            <p class="desc">At 1000 samples</p>
          </div>
          <div class="insight-card">
            <h4>Best Ratio</h4>
            <p class="value" style="color: #16a34a;">28.1</p>
            <p class="desc">Scenario 1 to 2 at 1000 samples</p>
          </div>
          <div class="insight-card">
            <h4>Constant Size</h4>
            <p class="value" style="color: #9333ea;">72 bytes</p>
            <p class="desc">Scenario 2 across all sizes</p>
          </div>
        </div>

        <h3>Key Insights and Recommendations</h3>
        <div style="padding-left: 20px; font-size: 0.95rem;">
          <p><strong>Algorithm Efficiency:</strong> Goertzel's O(N) complexity is more efficient than FFT's O(N log N) for targeted frequency analysis in IoT applications, ideal for constrained devices.</p>
          <p><strong>Superior Performance of Scenario 2:</strong> Scenario 2 (Goertzel) outperforms Scenario 1 (Raw Data) in energy, latency, and compression, aligning with project objectives.</p>
          <p><strong>Energy Efficiency:</strong> Savings range from 54.9% to 81.6%, with 63.85 mJ saved at 1000 samples.</p>
          <p><strong>Latency Reduction:</strong> Reductions range from 33.7% to 43.6%, with a maximum of 1008.79 ms at 1000 samples.</p>
          <p><strong>Compression Efficiency:</strong> Up to 96.4% reduction with a 28:1 compression ratio at 1000 samples, reducing bandwidth needs.</p>
          <p><strong>Recommendation:</strong> Use Scenario 2 with Goertzel for datasets exceeding 250 samples to optimize energy, latency, compression, and computational efficiency in IoT predictive maintenance.</p>
        </div>

        <button class="download-report-btn" onclick="downloadReport()">
          <i class="bi bi-download"></i> Download as PDF
        </button>
      </div>
    </div>
  </div>

  <script>
    // Sidebar toggle function
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const content = document.getElementById('content');
      const toggleBtn = document.getElementById('sidebar-toggle');
      const toggleCollapsedBtn = document.getElementById('sidebar-toggle-collapsed');
      const isCollapsed = sidebar.classList.toggle('collapsed');
      content.classList.toggle('shifted');
      toggleBtn.style.display = isCollapsed ? 'none' : 'block';
      toggleCollapsedBtn.style.display = isCollapsed ? 'block' : 'none';
    }

    // Generate report content
    function generateReport() {
      const reportSection = document.getElementById('reportSection');
      const reportContent = document.getElementById('reportContent');
      reportSection.style.display = 'block';
      reportContent.innerHTML = `
        <p><strong>Generated on:</strong> July 25, 2025 at 02:25:00 AM</p>
        <h3>Project Overview</h3>
        <p><strong>Project Title:</strong> Efficient Data Processing for Predictive Maintenance in IoT Systems</p>
        <p><strong>Objective:</strong> Compare two scenarios for IoT predictive maintenance:</p>
        <div style="padding-left: 20px; font-size: 0.95rem;">
          <p>Scenario 1: Raw data transmission from sensor node to edge device</p>
          <p>Scenario 2: Edge processing with Goertzel algorithm on sensor node</p>
        </div>
        <p><strong>Key Benefits of Scenario 2:</strong></p>
        <div style="padding-left: 20px; font-size: 0.95rem;">
          <p>- Reduced energy consumption</p>
          <p>- Lower latency</p>
          <p>- Decreased network bandwidth requirements</p>
          <p>- Maintained accuracy while processing on resource-constrained devices</p>
        </div>

        <div class="summary-section">
          <h3>Summary</h3>
          <p>This report evaluates the efficiency of two IoT predictive maintenance scenarios, focusing on algorithm performance (FFT vs Goertzel), energy consumption, latency, and compression. Scenario 2 (Goertzel) demonstrates superior efficiency, particularly for larger datasets, as outlined in the project overview.</p>
        </div>

        <h3>FFT vs Goertzel Analysis</h3>
        <p>The Fast Fourier Transform (FFT) computes the full frequency spectrum, while the Goertzel algorithm targets specific frequencies, making it more efficient for sparse spectrum analysis in IoT applications.</p>
        <table>
          <thead>
            <tr>
              <th>Algorithm</th>
              <th>Computational Complexity</th>
              <th>Use Case</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>FFT</td>
              <td>O(N log N)</td>
              <td>Broad-spectrum frequency analysis; Applications requiring full frequency spectrum (e.g., audio processing, radar); Suitable for small datasets or systems with ample computational resources</td>
            </tr>
            <tr>
              <td>Goertzel</td>
              <td>O(N)</td>
              <td>Targeted frequency detection (e.g., specific vibration frequencies in machinery); IoT devices with constrained resources (memory, power); Scenarios requiring minimal data transmission</td>
            </tr>
          </tbody>
        </table>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>FFT Complexity</h4>
            <p class="value" style="color: #2563eb;">O(N log N)</p>
            <p class="desc">Suitable for broad spectrum analysis</p>
          </div>
          <div class="insight-card">
            <h4>Goertzel Complexity</h4>
            <p class="value" style="color: #16a34a;">O(N)</p>
            <p class="desc">Efficient for specific frequencies</p>
          </div>
          <div class="insight-card">
            <h4>IoT Suitability</h4>
            <p class="value" style="color: #9333ea;">Goertzel</p>
            <p class="desc">Lower complexity for IoT devices</p>
          </div>
        </div>

        <h3>Energy Consumption Analysis</h3>
        <table>
          <thead>
            <tr>
              <th>Data Size</th>
              <th>Scenario 1 (Raw Data) Energy (mJ)</th>
              <th>Scenario 2 (Goertzel) Energy (mJ)</th>
              <th>Energy Savings (mJ)</th>
              <th>Savings Percentage (%)</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>100</td><td>8.432024</td><td>3.7971663</td><td>4.6348577</td><td>54.9</td></tr>
            <tr><td>250</td><td>19.249107</td><td>5.570224</td><td>13.678883</td><td>71.1</td></tr>
            <tr><td>480</td><td>38.213902</td><td>8.583681</td><td>29.630221</td><td>77.5</td></tr>
            <tr><td>600</td><td>46.186567</td><td>9.261920</td><td>36.924647</td><td>79.9</td></tr>
            <tr><td>1000</td><td>78.265910</td><td>14.412746</td><td>63.853164</td><td>81.6</td></tr>
          </tbody>
        </table>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>Max Energy Savings</h4>
            <p class="value" style="color: #16a34a;">81.6%</p>
            <p class="desc">At 1000 samples</p>
          </div>
          <div class="insight-card">
            <h4>Average Savings</h4>
            <p class="value" style="color: #2563eb;">73.0%</p>
            <p class="desc">Across all data sizes</p>
          </div>
          <div class="insight-card">
            <h4>Max Savings (mJ)</h4>
            <p class="value" style="color: #9333ea;">63.85 mJ</p>
            <p class="desc">At 1000 samples</p>
          </div>
        </div>

        <h3>Latency Analysis</h3>
        <table>
          <thead>
            <tr>
              <th>Data Size</th>
              <th>Scenario 1 (Raw Data) Latency (ms)</th>
              <th>Scenario 2 (Goertzel) Latency (ms)</th>
              <th>Reduction Percentage (%)</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>100</td><td>277.8</td><td>184.21</td><td>33.7</td></tr>
            <tr><td>250</td><td>606.4</td><td>363.51</td><td>40.0</td></tr>
            <tr><td>480</td><td>1126</td><td>659.11</td><td>41.5</td></tr>
            <tr><td>600</td><td>1435</td><td>808.71</td><td>43.6</td></tr>
            <tr><td>1000</td><td>2369</td><td>1360.21</td><td>42.6</td></tr>
          </tbody>
        </table>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>Max Latency Reduction</h4>
            <p class="value" style="color: #16a34a;">43.6%</p>
            <p class="desc">At 600 samples</p>
          </div>
          <div class="insight-card">
            <h4>Average Reduction</h4>
            <p class="value" style="color: #2563eb;">40.3%</p>
            <p class="desc">Across all data sizes</p>
          </div>
          <div class="insight-card">
            <h4>Max Time Saved</h4>
            <p class="value" style="color: #9333ea;">1008.79 ms</p>
            <p class="desc">At 1000 samples</p>
          </div>
        </div>

        <h3>Compression Analysis</h3>
        <table>
          <thead>
            <tr>
              <th>Data Size (samples)</th>
              <th>Scenario 1 (bytes)</th>
              <th>Scenario 2 (bytes)</th>
              <th>Reduction (%)</th>
              <th>Compression Ratio</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>100</td><td>203</td><td>72</td><td>64.53</td><td>2.82</td></tr>
            <tr><td>250</td><td>506</td><td>72</td><td>85.77</td><td>7.03</td></tr>
            <tr><td>480</td><td>971</td><td>72</td><td>92.56</td><td>13.49</td></tr>
            <tr><td>600</td><td>1214</td><td>72</td><td>94.07</td><td>16.86</td></tr>
            <tr><td>1000</td><td>2023</td><td>72</td><td>96.44</td><td>28.10</td></tr>
          </tbody>
        </table>
        <div class="insights-grid">
          <div class="insight-card">
            <h4>Max Compression</h4>
            <p class="value" style="color: #2563eb;">96.4%</p>
            <p class="desc">At 1000 samples</p>
          </div>
          <div class="insight-card">
            <h4>Best Ratio</h4>
            <p class="value" style="color: #16a34a;">28.1</p>
            <p class="desc">Scenario 1 to 2 at 1000 samples</p>
          </div>
          <div class="insight-card">
            <h4>Constant Size</h4>
            <p class="value" style="color: #9333ea;">72 bytes</p>
            <p class="desc">Scenario 2 across all sizes</p>
          </div>
        </div>

        <h3>Key Insights and Recommendations</h3>
        <div style="padding-left: 20px; font-size: 0.95rem;">
          <p><strong>Algorithm Efficiency:</strong> Goertzel's O(N) complexity is more efficient than FFT's O(N log N) for targeted frequency analysis in IoT applications, ideal for constrained devices.</p>
          <p><strong>Superior Performance of Scenario 2:</strong> Scenario 2 (Goertzel) outperforms Scenario 1 (Raw Data) in energy, latency, and compression, aligning with project objectives.</p>
          <p><strong>Energy Efficiency:</strong> Savings range from 54.9% to 81.6%, with 63.85 mJ saved at 1000 samples.</p>
          <p><strong>Latency Reduction:</strong> Reductions range from 33.7% to 43.6%, with a maximum of 1008.79 ms at 1000 samples.</p>
          <p><strong>Compression Efficiency:</strong> Up to 96.4% reduction with a 28:1 compression ratio at 1000 samples, reducing bandwidth needs.</p>
          <p><strong>Recommendation:</strong> Use Scenario 2 with Goertzel for datasets exceeding 250 samples to optimize energy, latency, compression, and computational efficiency in IoT predictive maintenance.</p>
        </div>

        <button class="download-report-btn" onclick="downloadReport()">
          <i class="bi bi-download"></i> Download as PDF
        </button>
      `;
    }

    // Download report as PDF
    function downloadReport() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF({
        orientation: 'portrait',
        unit: 'mm',
        format: 'a4'
      });

      // Add header
      doc.setFontSize(16);
      doc.setFont('helvetica', 'bold');
      doc.text('IoT Predictive Maintenance Analysis Report', 20, 20);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'normal');
      doc.text('Generated on: July 25, 2025 at 02:25:00 AM', 20, 28);

      // Project Overview
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Project Overview', 20, 38);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'normal');
      doc.text('Project Title: Efficient Data Processing for Predictive Maintenance in IoT Systems', 20, 46, { maxWidth: 170 });
      doc.text('Objective: Compare two scenarios for IoT predictive maintenance:', 20, 54, { maxWidth: 170 });
      doc.text('Scenario 1: Raw data transmission from sensor node to edge device', 20, 60, { maxWidth: 170 });
      doc.text('Scenario 2: Edge processing with Goertzel algorithm on sensor node', 20, 64, { maxWidth: 170 });
      doc.text('Key Benefits of Scenario 2:', 20, 70, { maxWidth: 170 });
      doc.text('- Reduced energy consumption', 20, 76, { maxWidth: 170 });
      doc.text('- Lower latency', 20, 80, { maxWidth: 170 });
      doc.text('- Decreased network bandwidth requirements', 20, 84, { maxWidth: 170 });
      doc.text('- Maintained accuracy while processing on resource-constrained devices', 20, 88, { maxWidth: 170 });

      // Summary
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Summary', 20, 96);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'normal');
      doc.text('This report evaluates the efficiency of two IoT predictive maintenance scenarios, focusing on algorithm performance (FFT vs Goertzel), energy consumption, latency, and compression. Scenario 2 (Goertzel) demonstrates superior efficiency, particularly for larger datasets, as outlined in the project overview.', 20, 104, { maxWidth: 170 });

      // FFT vs Goertzel Analysis
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('FFT vs Goertzel Analysis', 20, 122);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'normal');
      doc.text('The Fast Fourier Transform (FFT) computes the full frequency spectrum, while the Goertzel algorithm targets specific frequencies, making it more efficient for sparse spectrum analysis in IoT applications.', 20, 130, { maxWidth: 170 });
      doc.autoTable({
        startY: 142,
        head: [['Algorithm', 'Computational Complexity', 'Use Case']],
        body: [
          ['FFT', 'O(N log N)', 'Broad-spectrum frequency analysis; Applications requiring full frequency spectrum (e.g., audio processing, radar); Suitable for small datasets or systems with ample computational resources'],
          ['Goertzel', 'O(N)', 'Targeted frequency detection (e.g., specific vibration frequencies in machinery); IoT devices with constrained resources (memory, power); Scenarios requiring minimal data transmission']
        ],
        theme: 'grid',
        styles: { fontSize: 8, cellPadding: 2 },
        headStyles: { fillColor: [233, 236, 239], textColor: [0, 0, 0], fontStyle: 'bold' },
        columnStyles: { 0: { halign: 'left' }, 2: { cellWidth: 80 } }
      });

      // Energy Consumption
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Energy Consumption Analysis', 20, doc.lastAutoTable.finalY + 20);
      doc.autoTable({
        startY: doc.lastAutoTable.finalY + 26,
        head: [['Data Size', 'Scenario 1 (mJ)', 'Scenario 2 (mJ)', 'Savings (mJ)', 'Savings (%)']],
        body: [
          ['100', '8.432024', '3.7971663', '4.6348577', '54.9'],
          ['250', '19.249107', '5.570224', '13.678883', '71.1'],
          ['480', '38.213902', '8.583681', '29.630221', '77.5'],
          ['600', '46.186567', '9.261920', '36.924647', '79.9'],
          ['1000', '78.265910', '14.412746', '63.853164', '81.6']
        ],
        theme: 'grid',
        styles: { fontSize: 8, cellPadding: 2 },
        headStyles: { fillColor: [233, 236, 239], textColor: [0, 0, 0], fontStyle: 'bold' },
        columnStyles: { 0: { halign: 'left' } }
      });

      // Latency Analysis
      doc.addPage();
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Latency Analysis', 20, 20);
      doc.autoTable({
        startY: 26,
        head: [['Data Size', 'Scenario 1 (ms)', 'Scenario 2 (ms)', 'Reduction (%)']],
        body: [
          ['100', '277.8', '184.21', '33.7'],
          ['250', '606.4', '363.51', '40.0'],
          ['480', '1126', '659.11', '41.5'],
          ['600', '1435', '808.71', '43.6'],
          ['1000', '2369', '1360.21', '42.6']
        ],
        theme: 'grid',
        styles: { fontSize: 8, cellPadding: 2 },
        headStyles: { fillColor: [233, 236, 239], textColor: [0, 0, 0], fontStyle: 'bold' },
        columnStyles: { 0: { halign: 'left' } }
      });

      // Compression Analysis
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Compression Analysis', 20, doc.lastAutoTable.finalY + 20);
      doc.autoTable({
        startY: doc.lastAutoTable.finalY + 26,
        head: [['Data Size', 'Scenario 1 (bytes)', 'Scenario 2 (bytes)', 'Reduction (%)', 'Compression Ratio']],
        body: [
          ['100', '203', '72', '64.53', '2.82'],
          ['250', '506', '72', '85.77', '7.03'],
          ['480', '971', '72', '92.56', '13.49'],
          ['600', '1214', '72', '94.07', '16.86'],
          ['1000', '2023', '72', '96.44', '28.10']
        ],
        theme: 'grid',
        styles: { fontSize: 8, cellPadding: 2 },
        headStyles: { fillColor: [233, 236, 239], textColor: [0, 0, 0], fontStyle: 'bold' },
        columnStyles: { 0: { halign: 'left' } }
      });

      // Key Insights
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('Key Insights and Recommendations', 20, doc.lastAutoTable.finalY + 20);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'normal');
      const insights = [
        'Algorithm Efficiency: Goertzel\'s O(N) complexity is more efficient than FFT\'s O(N log N) for targeted frequency analysis in IoT applications, ideal for constrained devices.',
        'Superior Performance of Scenario 2: Scenario 2 (Goertzel) outperforms Scenario 1 (Raw Data) in energy, latency, and compression, aligning with project objectives.',
        'Energy Efficiency: Savings range from 54.9% to 81.6%, with 63.85 mJ saved at 1000 samples.',
        'Latency Reduction: Reductions range from 33.7% to 43.6%, with a maximum of 1008.79 ms at 1000 samples.',
        'Compression Efficiency: Up to 96.4% reduction with a 28:1 compression ratio at 1000 samples, reducing bandwidth needs.',
        'Recommendation: Use Scenario 2 with Goertzel for datasets exceeding 250 samples to optimize energy, latency, compression, and computational efficiency in IoT predictive maintenance.'
      ];
      insights.forEach((insight, index) => {
        doc.text(insight, 20, doc.lastAutoTable.finalY + 26 + (index * 8), { maxWidth: 160 });
      });

      doc.save('IoT_Predictive_Maintenance_Report.pdf');
    }

    // Initial setup
    document.addEventListener('DOMContentLoaded', () => {
      const toggleBtn = document.getElementById('sidebar-toggle');
      const toggleCollapsedBtn = document.getElementById('sidebar-toggle-collapsed');
      toggleBtn.style.display = 'block';
      toggleCollapsedBtn.style.display = 'none';
    });
  </script>
</body>
</html>